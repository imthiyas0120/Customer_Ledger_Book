{% extends "accounts/base.html" %}
{% block content %}

<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<div style="
    max-width: 550px;
    margin: 80px auto;
    padding: 40px;
    border: 1px solid #ccc;
    border-radius: 12px;
    background: white;
    font-family: Arial, Helvetica, sans-serif;
    color: #000;
    text-align: center;
">

    <h2 style="
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 20px;
    ">
        Delete Credit
    </h2>

    <p style="
        font-size: 18px;
        margin-bottom: 30px;
    ">
        Are you sure you want to delete this credit?
    </p>

    <p style="font-size: 18px; margin-bottom: 10px;">
        <strong>Amount:</strong> â‚¹{{ credit.amount }}
    </p>

    <p style="font-size: 18px; margin-bottom: 10px;">
        <strong>Date:</strong> {{ credit.date|date:"M d, Y, h:i a" }}
    </p>

    <p style="font-size: 18px; margin-bottom: 30px;">
        <strong>Payment Method:</strong> {{ credit.payment_method }}
    </p>

    <div style="margin-top: 20px;">

        
        <form method="POST" style="display:inline;">
            {% csrf_token %}
            <button type="submit" style="
                background:#dc3545;
                color:white;
                padding: 10px 30px;
                border:none;
                border-radius:6px;
                font-size:18px;
                cursor:pointer;
                margin-right:10px;
            ">
                Yes, Delete
            </button>
        </form>

        
        <a href="{% url 'accounts:customer_ledger' credit.customer.id %}" style="
            background:#6c757d;
            color:white;
            padding: 10px 30px;
            border-radius:6px;
            font-size:18px;
            text-decoration:none;
        ">
            Cancel
        </a>

    </div>

</div>

<script>
    
    window.addEventListener("pageshow", function(event) {
        if (event.persisted) {
            window.location.href = "{% url 'accounts:customer_ledger' credit.customer.id %}";
        }
    });

    history.pushState(null, "", location.href);
    window.onpopstate = function () {
        window.location.href = "{% url 'accounts:customer_ledger' credit.customer.id %}";
    };
</script>


{% endblock %}
