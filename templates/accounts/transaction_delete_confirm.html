{% extends 'accounts/base.html' %}
{% block content %}

<div style="
    max-width: 650px;
    margin: 60px auto;
    padding: 45px;
    border: 1px solid #ddd;
    border-radius: 14px;
    background: #ffffff;
    text-align: center;
    font-family: Arial, Helvetica, sans-serif;
">

    <h2 style="
        font-size: 30px;
        font-weight: 700;
        margin-bottom: 15px;
    ">
        Delete Product
    </h2>

    <p style="font-size: 19px; margin-bottom: 25px;">
        Are you sure you want to delete this product?
    </p>

    <p style="font-size: 19px; margin-bottom: 10px;">
        <strong>Product:</strong> {{ transaction.product_name }}
    </p>

    <p style="font-size: 19px; margin-bottom: 10px;">
        <strong>Selling Price:</strong> ₹{{ transaction.selling_price }}
    </p>

    <p style="font-size: 19px; margin-bottom: 10px;">
        <strong>Advance:</strong> ₹{{ transaction.advance_amount }}
    </p>

    <p style="font-size: 19px; margin-bottom: 25px;">
        <strong>Date:</strong> {{ transaction.date|date:"M d, Y, h:i a" }}
    </p>

    <div style="margin-top: 25px;">
        <form method="POST" style="display:inline;">
            {% csrf_token %}
            <button style="
                background:#007bff;
                color:white;
                padding: 12px 30px;
                font-size: 18px;
                border:none;
                border-radius:8px;
                cursor:pointer;
                margin-right:10px;
            ">
                Yes, Delete
            </button>
        </form>

        <a href="{% url 'accounts:customer_ledger' transaction.customer.id %}" style="
            background:#007bff;
            color:white;
            padding: 12px 30px;
            font-size: 18px;
            border-radius:8px;
            text-decoration:none;
        ">
            Cancel
        </a>
    </div>

</div>

<script>
    
    window.addEventListener("pageshow", function(event) {
        if (event.persisted) {
            window.location.href = "{% url 'accounts:customer_ledger' transaction.customer.id %}";
        }
    });

    
    history.pushState(null, "", location.href);

    window.onpopstate = function() {
        window.location.href = "{% url 'accounts:customer_ledger' transaction.customer.id %}";
    };
</script>


{% endblock %}
